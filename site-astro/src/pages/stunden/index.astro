---
import BaseLayout from '@layouts/BaseLayout.astro';
import { categories } from '@/lib/sessions';

const basePath = import.meta.env.BASE_URL || '/';

function getCategoryIcon(slug: string): string {
  const icons: Record<string, string> = {
    ruecken: "ğŸŒ¿",
    balance: "ğŸƒ",
    schulter: "ğŸŒ¸",
    "herz-kreislauf": "ğŸŒº",
    ganzkoerper: "ğŸŒ³",
    gymnastikstab: "ğŸ‹",
    "redondo-ball": "ğŸ”®"
  };
  return icons[slug] || "ğŸŒ±";
}
---

<BaseLayout title="Stunden" description="Alle Trainingsstunden nach Kategorie sortiert">
  <div class="container stack">
    <header class="stack-sm">
      <h1>Alle Stunden</h1>
      <p class="text-muted" style="max-width: 600px">
        WÃ¤hle eine Kategorie, um die verfÃ¼gbaren Trainingsstunden anzuzeigen.
      </p>
    </header>

    <div class="grid-categories">
      {categories.map((category) => (
        <a
          href={`${basePath}ordner/${category.slug}/`}
          class="card card-hover category-card"
        >
          <div class="category-card-icon" aria-hidden="true">
            {getCategoryIcon(category.slug)}
          </div>
          <h2 class="category-card-title">{category.title}</h2>
          <p class="category-card-description">{category.description}</p>
          <div class="category-card-meta">
            <span>{category.sessions.length} {category.sessions.length === 1 ? "Stunde" : "Stunden"}</span>
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M5 12h14M12 5l7 7-7 7" />
            </svg>
          </div>
        </a>
      ))}
    </div>
  </div>
</BaseLayout>
